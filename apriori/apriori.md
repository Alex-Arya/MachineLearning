# 关联规则挖掘

## 简介

关联规则挖掘是无监督算法，可以用于推荐算法。基本过程为：根据最小支持度挖掘频繁项集，对新的频繁项集重复这个过程，最后根据最小置信度找到关联规则。使用FPgrowth可以加速挖掘频繁项集。

以如下列表为例讲解：

|id|商品|
|:-----:|:-----:|
|0|豆奶，莴苣|
|1|莴苣，尿布，葡萄酒，甜菜|
|2|豆奶，尿布，葡萄酒，橙汁|
|3|莴苣，豆奶，尿布，葡萄酒|
|4|莴苣，豆奶，尿布，橙汁|

频繁项集：即经常出现在一起的物品的集合。如通过设置最小支持度0.8，得到第一轮频繁项集为{莴苣，豆奶，尿布}。频繁项集要不断迭代。

支持度：项集的支持度是数据集中一个项集出现的比例。如{豆奶}的支持度为4/5，{豆奶，尿布}的支持度为3/5。

![支持度](http://ww1.sinaimg.cn/large/96803f81gy1g0lxa29suzj20gh046t91.jpg)

最小支持度：定义一个最小支持度，取大于阈值的项集作为下一个频繁项集。

置信度：规则的置信度是支持度的比例。如对{尿布->葡萄酒}的置信度为：sup({尿布，葡萄酒})/sup(尿布)=0.6/0.8=0.75

![置信度](http://ww1.sinaimg.cn/large/96803f81gy1g0lxzfvtaxj20n3046js3.jpg)

最小置信度：同最小支持度，也是一个阈值，用以验证频繁项集中所有规则，将其置信度大于最小置信度的作为最后的规则。

即使最后得到的是很小的频繁项集需要验证的规则也是很多的。由apriori原理可知，如果一个项集是非频繁的，那么它的超集都是非频繁的，因此通过迭代频繁项集，删除非频繁的项，可以减少需要验证的规则总数。

## 实例

[apriori.py](https://github.com/Niuyuhang03/MachineLearning/blob/master/apriori/apriori.py)：数据来源